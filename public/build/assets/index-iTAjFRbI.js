import"./dataTables.bootstrap5-C_qjeAEr.js";import{g as c,r as u,i as d}from"./dataTableHelper-DPRPCEc4.js";import{_ as e}from"./helpers-uU3f7Ngr.js";import{O as l}from"./OnboardingCard-BsEn4-iX.js";import{c as p}from"./app-QU5FfaO6.js";import"./tslib.es6-CZM0TROl.js";const m="#table",b=[{property:"account_entities_count",value:0,negate:!1,errorMessage:e("This account group cannot be deleted because it is still in use.")}];window.table=$(m).DataTable({data:window.accountGroups,columns:[{data:"name",title:e("Name")},{data:"id",title:e("Actions"),render:function(t,n,o){return c(t,"edit","account-group.edit")+u(o,b,e("This account group cannot be deleted."))},className:"dt-nowrap",orderable:!1,searchable:!1}],order:[[0,"asc"]],deferRender:!0,scrollY:"500px",scrollCollapse:!0,stateSave:!1,processing:!0,paging:!1,initComplete:function(t){$(t.nTable).on("click","td > button.deleteIcon:not(.busy)",function(){if(!confirm(e("Are you sure to want to delete this item?")))return;let n=$(t.nTable).DataTable().row($(this).parents("tr")),o=$(this);o.addClass("busy"),$.ajax({type:"DELETE",url:window.route("api.accountgroup.destroy",n.data().id),data:{_token:csrfToken},dataType:"json",context:this,success:function(a){window.accountGroups=window.accountGroups.filter(s=>s.id!==a.accountGroup.id),n.remove().draw();let r=new CustomEvent("toast",{detail:{header:e("Success"),body:e("Account group deleted"),toastClass:"bg-success"}});window.dispatchEvent(r)},error:function(a){let r=new CustomEvent("toast",{detail:{header:e("Error"),body:e("Error while trying to delete account group: ")+a.responseJSON.error,toastClass:"bg-danger"}});window.dispatchEvent(r)},complete:function(a){o.removeClass("busy")}})})}});d(table);window.onboardingTourSteps=[{element:"#table",popover:{title:e("Account Groups"),description:e("Account groups serve as an organizational tool to streamline your financial overview.")}},{element:"#cardActions",popover:{title:e("New account group"),description:e("You can create new account groups to organize your accounts.")}}];const i=p({});i.component("onboarding-card",l);i.mount("#onboarding-card");
