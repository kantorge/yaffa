import{b as i,h as r,o as s,i as l,c as u}from"./app.ffd9927a.js";import{T as m}from"./TransactionFormInvestment.f25df232.js";import"./TransactionSchedule.afa5be60.js";import"./index.d9d612f0.js";import"./defineProperty.b744b18c.js";import"./helpers.35739ffe.js";import"./tslib.es6.598c7c7a.js";import"./Button.ae7edbbb.js";import"./select2.7201c0e6.js";const d={name:"TransactionContainerInvestment",components:{TransactionFormInvestment:m},props:{action:String,transaction:{type:Object,default:{transaction_type:{name:"Buy"},date:new Date,schedule:!1,budget:!1,reconciled:!1,comment:null,config:{account_id:null,investment_id:null,price:null,quantity:null,dividend:null,commission:null,tax:null}}}},computed:{isSimplified(){return this.action==="enter"}},created(){},data(){const t=new URLSearchParams(window.location.search);let n={callback:t.get("callback")||"create",transactionData:Object.assign({},this.transaction)};return this.action==="create"&&(t.get("account")&&(n.transactionData.config.account_id=t.get("account")),t.get("schedule")&&(n.transactionData.schedule=!!t.get("schedule"),n.transactionData.date=void 0)),n},methods:{loadCallbackUrl(t){if(this.callback==="returnToDashboard"){location.href=window.route("home");return}if(this.callback==="create"){location.href=window.route("transaction.create",{type:"investment"});return}if(this.callback==="clone"){location.href=window.route("transaction.open",{transaction:t.id,action:"clone"});return}if(this.callback==="show"){location.href=window.route("transaction.open",{transaction:t.id,action:"show"});return}if(this.callback==="returnToPrimaryAccount"){location.href=window.route("account-entity.show",{account_entity:t.config.account_id});return}document.referrer?location.href=document.referrer:history.back()},onCancel(){window.history.back()},onSuccess(t,n){this.callback=n.callback,this.loadCallbackUrl(t)}}};function f(t,n,c,h,b,a){const o=r("transaction-form-investment");return s(),l(o,{action:c.action,"initial-callback":t.callback,transaction:t.transactionData,simplified:a.isSimplified,onCancel:a.onCancel,onSuccess:a.onSuccess},null,8,["action","initial-callback","transaction","simplified","onCancel","onSuccess"])}const p=i(d,[["render",f]]),e=u({});e.config.globalProperties.__=window.__;e.component("transaction-container-investment",p);e.mount("#app");
