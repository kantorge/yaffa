import{a as r,h as i,o as s,i as l,c as u}from"./app.1ea3d35e.js";import{T as d}from"./TransactionFormStandard.560180c4.js";import"./helpers.0d23fc7a.js";import"./tslib.es6.598c7c7a.js";import"./select2.23b23e14.js";import"./TransactionSchedule.6ec72524.js";import"./index.d8923a62.js";import"./defineProperty.b744b18c.js";import"./Button.f5acc136.js";const f={name:"TransactionContainerStandard",components:{TransactionFormStandard:d},props:{action:{type:String,default:"create"},transaction:{type:Object,default:{transaction_type:{name:"withdrawal"},date:new Date,schedule:!1,budget:!1,reconciled:!1,comment:null,config:{account_from_id:null,account_to_id:null,amount_from:null,amount_to:null}}},sourceId:{type:Number,default:null}},computed:{isSimplified(){return this.action==="enter"}},created(){},data(){const t=new URLSearchParams(window.location.search);let a={callback:t.get("callback")||"create",transactionData:Object.assign({},this.transaction)};if(this.action==="create"){t.get("account_from")&&(a.transactionData.config.account_from_id=t.get("account_from")),t.get("account_to")&&(a.transactionData.config.account_to_id=t.get("account_to")),t.get("schedule")&&(a.transactionData.schedule=!!t.get("schedule"),a.transactionData.date=void 0),t.get("budget")&&(a.transactionData.budget=!!t.get("budget"),a.transactionData.date=void 0);const n=t.get("transaction_type");n&&["deposit","withdrawal","transfer"].includes(n)&&(a.transactionData.transaction_type.name=n)}return a},methods:{getReturnAccount(t,a){return t==="primary"&&a.transaction_type.name==="deposit"||t==="secondary"?a.config.account_to_id:a.config.account_from_id},loadCallbackUrl(t){if(this.callback==="returnToDashboard"){location.href=window.route("home");return}if(this.callback==="create"){location.href=window.route("transaction.create",{type:"standard"});return}if(this.callback==="clone"){location.href=window.route("transaction.open",{transaction:t.id,action:"clone"});return}if(this.callback==="show"){location.href=window.route("transaction.open",{transaction:t.id,action:"show"});return}if(this.callback==="returnToPrimaryAccount"){location.href=window.route("account-entity.show",{account_entity:this.getReturnAccount("primary",t)});return}if(this.callback==="returnToSecondaryAccount"){location.href=window.route("account-entity.show",{account_entity:this.getReturnAccount("secondary",t)});return}document.referrer?location.href=document.referrer:history.back()},onCancel(){window.history.back()},onSuccess(t,a){this.callback=a.callback,this.loadCallbackUrl(t)}}};function m(t,a,n,_,h,o){const e=i("transaction-form-standard");return s(),l(e,{action:n.action,"initial-callback":t.callback,transaction:t.transactionData,"source-id":n.sourceId,simplified:o.isSimplified,onCancel:o.onCancel,onSuccess:o.onSuccess},null,8,["action","initial-callback","transaction","source-id","simplified","onCancel","onSuccess"])}const p=r(f,[["render",m]]),c=u({});c.config.globalProperties.__=window.__;c.component("transaction-container-standard",p);c.mount("#app");
