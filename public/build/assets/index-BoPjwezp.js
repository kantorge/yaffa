import"./dataTables.bootstrap5-Csew7iXD.js";import"./responsive.bootstrap5-Bjf6012L.js";import{f as r,g as n,h as o}from"./dataTableHelper-BFrUsbwO.js";import"./app-KLFPBacJ.js";import"./helpers-C8PqwG3r.js";import"./tslib.es6-CZM0TROl.js";const i="#table";window.table=$(i).DataTable({data:tags,columns:[{data:"name",title:__("Name"),render:function(t,a,e){return a==="display"?`<a href="${route("reports.transactions",{tags:[e.id]})}" title="${__("View associated transactions")}">${t}</a>`:t}},{data:"active",title:__("Active"),render:function(t,a){return r(t,a)},className:"text-center activeIcon"},{data:"transaction_count",title:__("Transactions"),className:"text-center",type:"num"},{data:"id",title:__("Actions"),render:function(t){return`<a 
                                class="btn btn-xs btn-success" 
                                href="${route("reports.transactions",{tags:[t]})}"
                                title="${__("View associated transactions")}"
                        >
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </a> `+n(t,"edit","tag.edit")+n(t,"delete")},className:"dt-nowrap",orderable:!1,searchable:!1}],order:[[0,"asc"]],deferRender:!0,scrollY:"500px",scrollCollapse:!0,stateSave:!1,processing:!0,paging:!1,initComplete:function(t){$(t.nTable).on("click","td.activeIcon > i:not(.inProgress)",function(){var a=$(t.nTable).DataTable().row($(this).parents("tr"));$(this).removeClass().addClass("fa fa-spinner fa-spin inProgress"),$.ajax({type:"PUT",url:"/api/assets/tag/"+a.data().id+"/active/"+(a.data().active?0:1),data:{_token:csrfToken},dataType:"json",context:this,success:function(e){window.tags.filter(s=>s.id===e.id)[0].active=e.active},error:function(e){alert(__("Error changing tag active state"))},complete:function(e){a.invalidate()}})})}});o(i,"tag.destroy");$("input[name=table_filter_active]").on("change",function(){table.column(1).search(this.value).draw()});$("#table_filter_search_text").keyup(function(){table.search($(this).val()).draw()});
