import"./dataTables.bootstrap5.509daac4.js";import{g as d,r as l,i as c}from"./dataTableHelper.1c2d9edf.js";import{_ as e}from"./helpers.35739ffe.js";import{O as u}from"./OnboardingCard.0113cd56.js";import{c as p}from"./app.ffd9927a.js";import"./tslib.es6.598c7c7a.js";const m="#table",v=[{property:"investments_count",value:0,negate:!1,errorMessage:e("This investment group cannot be deleted because it is still in use.")}];let b=$(m).DataTable({data:window.investmentGroups,columns:[{data:"name",title:e("Name")},{data:"id",title:e("Actions"),render:function(t,r,n){return d(t,"edit","investment-group.edit")+l(n,v,e("This investment group cannot be deleted."))},className:"dt-nowrap",orderable:!1,searchable:!1}],order:[[0,"asc"]],deferRender:!0,scrollY:"500px",scrollCollapse:!0,stateSave:!1,processing:!0,paging:!1,initComplete:function(t){$(t.nTable).on("click","td > button.deleteIcon:not(.busy)",function(){if(!confirm(e("Are you sure to want to delete this item?")))return;let r=$(t.nTable).DataTable().row($(this).parents("tr")),n=$(this);n.addClass("busy"),$.ajax({type:"DELETE",url:window.route("api.investmentgroup.destroy",r.data().id),data:{_token:csrfToken},dataType:"json",context:this,success:function(o){window.investmentGroups=window.investmentGroups.filter(i=>i.id!==o.investmentGroup.id),r.remove().draw();let a=new CustomEvent("toast",{detail:{header:e("Success"),body:e("Investment group deleted"),toastClass:"bg-success"}});window.dispatchEvent(a)},error:function(o){let a=new CustomEvent("toast",{detail:{header:e("Error"),body:e("Error while trying to delete investment group: ")+o.responseJSON.error,toastClass:"bg-danger"}});window.dispatchEvent(a)},complete:function(o){n.removeClass("busy")}})})}});c(b);window.onboardingTourSteps=[{element:"#table",popover:{title:e("Investment Groups"),description:e("Investment groups serve as an organizational tool to streamline your investment overview.")}},{element:"#cardActions",popover:{title:e("New investment group"),description:e("You can create new investment groups to organize your investments.")}}];const s=p({});s.component("onboarding-card",u);s.mount("#onboarding-card");
