import"./dataTables.bootstrap5-Csew7iXD.js";import"./responsive.bootstrap5-Bjf6012L.js";import{f as l,g as i,h as o}from"./dataTableHelper-BFrUsbwO.js";import{a as r}from"./helpers-C8PqwG3r.js";import"./app-KLFPBacJ.js";import"./tslib.es6-CZM0TROl.js";const s="#table";$(s).DataTable({data:window.currencies,columns:[{data:"name",title:__("Name"),render:function(t,a,e){return a==="display"?t+(e.base?' <i class="fa fa-star text-primary" title="'+__("Base currency")+'"></i>':""):t},className:"dt-nowrap",createdCell:function(t,a,e){e.base&&$(t).addClass("fw-bold")}},{data:"iso_code",title:__("ISO Code")},{data:"auto_update",title:__("Automatic update"),render:function(t,a){return l(t,a)},className:"text-center"},{title:__("Latest rate from base currency"),defaultContent:"",render:function(t,a,e){if(e.base)return;if(!e.latest_rate)return __("Not available");if(a==="sort")return e.latest_rate;const n=Object.assign({},window.YAFFA.baseCurrency,{max_digits:4});return r(1,window.YAFFA.locale,e)+" = "+r(parseFloat(e.latest_rate),window.YAFFA.locale,n)},className:"dt-nowrap",searchable:!1},{title:__("Latest rate to base currency"),defaultContent:"",render:function(t,a,e){if(e.base)return;if(!e.latest_rate)return __("Not available");if(a==="sort")return 1/e.latest_rate;const n=Object.assign({},e,{max_digits:4});return r(1,window.YAFFA.locale,window.YAFFA.baseCurrency)+" = "+r(1/parseFloat(e.latest_rate),window.YAFFA.locale,n)},className:"dt-nowrap",searchable:!1},{data:"id",title:__("Actions"),render:function(t,a,e){return i(t,"edit","currency.edit")+(e.base?"":'<a href="/currencyrates/'+t+"/"+window.YAFFA.baseCurrency.id+'" class="btn btn-xs btn-info" title="'+__("Rates")+'"><i class="fa-solid fa-fw fa-chart-line"></i></a> '+i(t,"delete")+'<a href="'+window.route("currency.setDefault",t)+'" class="btn btn-xs btn-primary data-set-default" title="'+__("Set as default")+'"><i class="fa-solid fa-fw fa-building-columns"></i></a>')},className:"dt-nowrap",orderable:!1,searchable:!1}],order:[[0,"asc"]],responsive:!0});o(s,"currency.destroy");$(s).on("click","a.data-set-default",function(t){t.preventDefault();const a=$(this).attr("href");confirm(__(`Are you sure you want to set this currency as the default one?

While this action is reversible, it starts a process that may take a while to complete.`))&&(window.location.href=a)});
