import{l}from"./helpers-C8PqwG3r.js";import{s as c}from"./select2-8otZJJuH.js";import"./app-KLFPBacJ.js";import"./tslib.es6-CZM0TROl.js";c();l(window.YAFFA.language);const r="#payee_source",o="#payee_target";$(r).select2({theme:"bootstrap-5",placeholder:__("Select payee to be merged"),allowClear:!0,selectOnClose:!1,ajax:{url:"/api/assets/payee",dataType:"json",delay:150,data:function(e){return{_token:csrfToken,q:e.term,account_type:"payee",withInactive:!0}},processResults:function(e){let t=$(o).select2("data");return t.length>0&&(e=e.filter(function(a){return a.id!=t[0].id})),{results:e}},cache:!0}});let n=window.payeeSource||null;n&&$(r).append(new Option(n.name,n.id,!0,!0)).trigger("change");$(o).select2({theme:"bootstrap-5",placeholder:__("Select payee to be merged into"),allowClear:!0,selectOnClose:!1,ajax:{url:"/api/assets/payee",dataType:"json",delay:150,data:function(e){return{_token:csrfToken,q:e.term,account_type:"payee",withInactive:!0}},processResults:function(e){let t=$(r).select2("data");return t.length>0&&(e=e.filter(function(a){return a.id!=t[0].id})),{results:e}},cache:!0}});$("#merge-payees-form").on("submit",function(e){let t=$(r).select2("data"),a=$(o).select2("data");if(t.length===0||a.length===0){e.preventDefault(),alert(__("Please select payees to be merged"));return}else if(t[0].id===a[0].id){e.preventDefault(),alert(__("Please select different payees to be merged"));return}if(typeof $("input[name=action]:checked").val()>"u"){e.preventDefault(),alert(__("Please select an action"));return}confirm(__("Are you sure you want to merge these payees?"))||e.preventDefault()});$("#cancel").on("click",function(){confirm(__("Are you sure you want to discard any changes?"))&&window.history.back()});
